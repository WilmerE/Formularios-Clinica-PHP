{% extends 'base.html' %}

{% block title %} | Lista de Historia Clínica {% endblock %}

{% block css %}
<!-- LIBRERIA DATATABLES -->
<!--<link rel="stylesheet" type="text/css" href="js_libs/DataTable/datatables.min.css"/>-->
<link rel="stylesheet" type="text/css" href="libs/DataTable/datatables-1.10.24/css/dataTables.bootstrap4.min.css"/>
<link rel="stylesheet" type="text/css" href="libs/DataTable/datatables-1.10.24/plugins/responsive-2.2.3/css/responsive.bootstrap4.min.css"/>
{% endblock %}

{% block content %}

<div class="card">
	<div class="card-header">
		<h3 class="card-title">LISTA HISTORIA CLÍNICA GERIATRIA</h3>
	</div>
	<div class="card-body">
		<table class="table table-bordered" id="data">
			<thead class="thead-dark">
				<tr>
					<th scope="col">No. de Ficha</th>
					<th scope="col">Paciente</th>
					<th scope="col">Usuario</th>
					<th scope="col">Teléfono</th>
					<th scope="col">E-mail</th>
					<th scope="col">Acciones</th>
				</tr>
			</thead>
		</table>
	</div>
</div>

{% endblock %}

{% block js %}

<script src="libs/DataTable/datatables-1.10.24/js/jquery.dataTables.js"></script>
<script src="libs/DataTable/datatables-1.10.24/js/dataTables.bootstrap4.min.js"></script>
<script src="libs/DataTable/datatables-1.10.24/plugins/responsive-2.2.3/js/dataTables.responsive.min.js"></script>
<script src="libs/DataTable/datatables-1.10.24/plugins/responsive-2.2.3/js/responsive.bootstrap4.min.js"></script>
<script src="libs/DataTableSpanish.json"></script>

<script type="text/javascript">
	$(function () {
		$('#data').DataTable({
			responsive: true,
			destroy: true,
			deferRender: true,
			"processing": true,
			"serverSide": true,
			ajax: {
				url: 'ajax/ev_lenguaje_list.php',
				type: 'POST',
				data: {
					'action': 'buscar'
				},
			},
			columns: [ 
				{"data": "numero"},
				{"data": "nombre"},
				{"data": "usuario"},
				{"data": "telefono"},
				{"data": "mail"},
				{"data": "mail"},
			],
			columnDefs: [
			{
				targets: [-1],
				class: 'text-center',
				orderable: false,
				render: function (data, type, row) {
					var buttons = '<a href="geriatria_edit.php?numero=' + row.numero + '" class="btn btn-link"><i class="fas fa-edit"></i></a> ';
					buttons += '<a href="geriatria_print.php?numero=' + row.numero + '" target="_blank" class="btn btn-link"><i class="fas fa-print"></i></a>';
					return buttons;
				}
			},
			],
		});
	});
</script>

{% endblock %}